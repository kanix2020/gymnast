<%= form_with(model: @score, local: true) do |f| %>
    <%# <div class="justify-content-center">
      <%# <%= render 'shared/error_messages', model: f.object %>
    <%# </div> %>
  <div class="d-flex mt-4">
    <% if user_signed_in? %>
      <% if @games[0] == nil && @athletes[0] == nil %> 
        <%= link_to "選手データ登録", new_athlete_path %>・
        <%= link_to "大会データ登録", new_game_path %>を行ってください。
      <% elsif @games[0] == nil %>
        <%= link_to "大会データ登録", new_game_path %>を行ってください。
      <% elsif @athletes[0] == nil %>
        <%= link_to "選手データ登録", new_athlete_path %>を行って下さい。
      <% else %>
        <div class="ml-4">
          <%= f.collection_select(:game_id, Game.all, :id, :name, {},   {class:"form-select"}) %>
        </div>
        <div class="ml-4">
        <%= f.collection_select(:athlete_id, Athlete.all, :id, :name, {}, {class:"form-select"}) %>
        </div>
      <% end %>
    <% end %>
  </div>
  
  <table class="table table-bordered m-4">
    <thead>
      <tr>
        <th scope="col" colspan="2">FX</th>
        <th scope="col" colspan="2">PH</th>
        <th scope="col" colspan="2">Ri</th>
        <th scope="col" colspan="2">Vo</th>
        <th scope="col" colspan="2">PB</th>
        <th scope="col" colspan="2">HB</th>
      </tr>
    </thead>
      <tbody>
        <tr>
          <td><%= f.text_field :floor_d, class:"form-control score-group input-score-d", placeholder:"D" %></td>
          <td rowspan="3" class="score-group output-score-total">Total</td>
          <td><%= f.text_field :pommel_d, class:"form-control score-group input-score-d", placeholder:"D" %></td>
          <td rowspan="3" class="score-group output-score-total">Total</td>
          <td><%= f.text_field :rings_d, class:"form-control score-group input-score-d", placeholder:"D" %></td>
          <td rowspan="3" class="score-group output-score-total">Total</td>
          <td><%= f.text_field :vault_d, class:"form-control score-group input-score-d", placeholder:"D" %></td>
          <td rowspan="3" class="score-group output-score-total">Total</td>
          <td><%= f.text_field :parallel_d, class:"form-control score-group input-score-d", placeholder:"D" %></td>
          <td rowspan="3" class="score-group output-score-total">Total</td>
          <td><%= f.text_field :horizontal_d, class:"form-control score-group input-score-d", placeholder:"D" %></td>
          <td rowspan="3" class="score-group output-score-total">Total</td>
        </tr>
        <tr>
          <td><%= f.text_field :floor_e, class:"form-control score-group input-score-e", placeholder:"E" %></td>
          <td><%= f.text_field :pommel_e, class:"form-control score-group input-score-e", placeholder:"E" %></td>
          <td><%= f.text_field :rings_e, class:"form-control score-group input-score-e", placeholder:"E" %></td>
          <td><%= f.text_field :vault_e, class:"form-control score-group input-score-e", placeholder:"E" %></td>
          <td><%= f.text_field :parallel_e, class:"form-control score-group input-score-e", placeholder:"E" %></td>
          <td><%= f.text_field :horizontal_e, class:"form-control score-group input-score-e", placeholder:"E" %></td>
        </tr>
        <tr>
          <td><%= f.text_field :floor_nd, class:"form-control score-group input-score-nd", placeholder:"ND" %></td>
          <td><%= f.text_field :pommel_nd, class:"form-control score-group input-score-nd", placeholder:"ND" %></td>
          <td><%= f.text_field :rings_nd, class:"form-control score-group input-score-nd", placeholder:"ND" %></td>
          <td><%= f.text_field :vault_nd, class:"form-control score-group input-score-nd", placeholder:"ND" %></td>
          <td><%= f.text_field :parallel_nd, class:"form-control score-group input-score-nd", placeholder:"ND" %></td>
          <td><%= f.text_field :horizontal_nd, class:"form-control score-group input-score-nd", placeholder:"ND" %></td>
        </tr>
      </tbody>
  </table>
  <% if user_signed_in? %>
    <p style="font-size:0.9em; color:green;">　　※スコアが無い場合(棄権)は「０」を入力してください。</p>
    <div class="col-2 m-2">
      <%= f.submit "スコア取り込み" ,class:"btn btn-success" %>
    </div>
  <% else %>
    <p style="font-size:0.9em; color:green;"> 　　※スコアを登録を行う場合は<%= link_to "ログイン", new_user_session_path %>してください。
  <% end %>
<% end %>  




